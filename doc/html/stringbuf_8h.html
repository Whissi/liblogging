<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>liblogging: stringbuf.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>stringbuf.h File Reference</h1>The dynamic stringt buffer helper object.  
<a href="#_details">More...</a>
<p>

<p>
<a href="stringbuf_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Compounds</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structsbStrBObject.html">sbStrBObject</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The dynamic string buffer object. </em> <a href="structsbStrBObject.html#_details">More...</a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a0" doxytag="stringbuf.h::__LIB3195_STRINGBUF_H_INCLUDED__"></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><b>__LIB3195_STRINGBUF_H_INCLUDED__</b>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a1" doxytag="stringbuf.h::sbSTRBCHECKVALIDOBJECT"></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><b>sbSTRBCHECKVALIDOBJECT</b>(x)&nbsp;&nbsp;&nbsp;{assert(x != NULL); assert(x-&gt;OID == OIDsbStrB);}</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a2" doxytag="stringbuf.h::sbStrBObj"></a>
typedef <a class="el" href="structsbStrBObject.html">sbStrBObject</a>&nbsp;</td><td class="memItemRight" valign=bottom><b>sbStrBObj</b></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a3" doxytag="stringbuf.h::sbStrBConstruct"></a>
<a class="el" href="structsbStrBObject.html">sbStrBObj</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="stringbuf_8h.html#a3">sbStrBConstruct</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a sbStrB object. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a4" doxytag="stringbuf.h::sbStrBDestruct"></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="stringbuf_8h.html#a4">sbStrBDestruct</a> (<a class="el" href="structsbStrBObject.html">sbStrBObj</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destruct the string buffer object. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="stringbuf_8h.html#a5">sbStrBAppendChar</a> (<a class="el" href="structsbStrBObject.html">sbStrBObj</a> *pThis, char c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append a character to an existing string. </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="stringbuf_8h.html#a6">sbStrBFinish</a> (<a class="el" href="structsbStrBObject.html">sbStrBObj</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finish the string buffer. </em> <a href="#a6"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="liblogging_8h.html#a6">srRetVal</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="stringbuf_8h.html#a7">sbStrBAppendStr</a> (<a class="el" href="structsbStrBObject.html">sbStrBObj</a> *pThis, char *psz)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append a string to the buffer. </em> <a href="#a7"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="stringbuf_8h.html#a8">sbStrBSetAllocIncrement</a> (<a class="el" href="structsbStrBObject.html">sbStrBObj</a> *pThis, int iNewIncrement)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a new allocation incremet. </em> <a href="#a8"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The dynamic stringt buffer helper object. 
<p>
The string buffer object is a slim string handler. It implements a dynamically growing string and can be used whereever data needs to be appended to a string AND it is not known how large the resulting structure is. If you know the string size or can retrieve it quickly, you should NOT use the string buffer object - because it has some overhead not associated with direct string manipulations.<p>
This object is used to grow a string. For performance reasons, the termination  byte is only written after the caller indicates the string is completed.<p>
<dl compact><dt><b>Author:</b></dt><dd>Rainer Gerhards &lt;<a href="mailto:rgerhards@adiscon.com">rgerhards@adiscon.com</a>&gt; </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>2003-08-08 Initial version begun.</dd></dl>
Copyright 2002-2003 Rainer Gerhards and Adiscon GmbH. All Rights Reserved.<p>
Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:<p>
* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.<p>
* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.<p>
* Neither the name of Adiscon GmbH or Rainer Gerhards nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.<p>
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.<hr><h2>Function Documentation</h2>
<a name="a5" doxytag="stringbuf.h::sbStrBAppendChar"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbStrBAppendChar </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbStrBObject.html">sbStrBObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Append a character to an existing string. 
<p>
If necessary, the method expands the string buffer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>Character to append to string. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a7" doxytag="stringbuf.h::sbStrBAppendStr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="liblogging_8h.html#a6">srRetVal</a> sbStrBAppendStr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbStrBObject.html">sbStrBObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>psz</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Append a string to the buffer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>psz</em>&nbsp;</td><td>pointer to string to be appended. Must not be NULL. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a6" doxytag="stringbuf.h::sbStrBFinish"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* sbStrBFinish </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbStrBObject.html">sbStrBObj</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pThis</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finish the string buffer. 
<p>
That means, the string is returned to the caller and then the string buffer is destroyed. The caller is reponsible for freeing the returned string pointer.<p>
After calling this method, the string buffer object is destroyed and thus the provided handle (pThis) can no longer be used.<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pointer</em>&nbsp;</td><td>to  terminated string. May be NULL (empty string) and MUST be free()ed by caller. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a8" doxytag="stringbuf.h::sbStrBSetAllocIncrement"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void sbStrBSetAllocIncrement </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structsbStrBObject.html">sbStrBObj</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pThis</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>iNewIncrement</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a new allocation incremet. 
<p>
This will influence the allocation the next time the string will be expanded. It can be set and changed at any time. If done immediately after custructing the StrB object, this will also be the inital allocation.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>iNewIncrement</em>&nbsp;</td><td>The new increment size</td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>It is possible to use a very low increment, e.g. 1 byte. This can generate a considerable overhead. We highly advise not to use an increment below 32 bytes, except if you are very well aware why you are doing it ;) </dd></dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Sep 1 10:15:06 2003 for liblogging by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
